---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import storeData from '../data/store.json';
import { SITE_CONTACT } from '../config/siteContact';

const categories = storeData.categories;
---

<Layout
  title="What We Carry | WV Wild Outdoors"
  description="Browse our selection of firearms, ammunition, fishing gear, and outdoor supplies. Call for availability - inventory changes daily."
>
  <Header />

  <main class="bg-brand-cream min-h-screen">
    <!-- Hero Banner -->
    <section class="bg-brand-brown text-white py-12 md:py-16">
      <div class="container mx-auto px-4 text-center">
        <h1 class="font-display font-black text-4xl md:text-5xl mb-4">What We Carry</h1>
        <p class="text-brand-cream/80 text-lg md:text-xl max-w-2xl mx-auto mb-6">
          Your local source for firearms, ammunition, fishing gear, and outdoor supplies in Braxton County.
        </p>

        <!-- Call for Availability Banner -->
        <div class="inline-flex items-center gap-3 bg-sign-green/20 border border-sign-green/40 rounded-lg px-6 py-3">
          <svg class="w-6 h-6 text-sign-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
          </svg>
          <span class="font-bold">Call for availability:</span>
          <a href={SITE_CONTACT.phoneHref} class="text-sign-green hover:text-white transition-colors font-bold">
            {SITE_CONTACT.phoneDisplay}
          </a>
        </div>

        <p class="text-brand-cream/60 text-sm mt-4">
          Inventory changes daily. What you see here represents our typical stock.
        </p>
      </div>
    </section>

    <!-- Product Categories -->
    <section class="py-12 md:py-16">
      <div class="container mx-auto px-4">

        {categories.map((category, catIndex) => (
          <div class={`mb-16 ${catIndex > 0 ? 'pt-12 border-t border-stone-200' : ''}`}>
            <div class="flex items-baseline gap-4 mb-8">
              <h2 class="font-display font-bold text-2xl md:text-3xl text-brand-brown">
                {category.name}
              </h2>
              <span class="font-hand text-brand-orange text-lg -rotate-2">
                {category.tagline}
              </span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {category.items.map((item) => (
                <div class="bg-white rounded-lg shadow-sm border border-stone-100 p-6 hover:shadow-md transition-shadow">
                  <div class="flex items-start justify-between mb-3">
                    <div>
                      <span class="text-sm text-brand-orange font-medium uppercase tracking-wide">
                        {item.brand}
                      </span>
                      <h3 class="font-display font-bold text-lg text-brand-brown">
                        {item.name}
                      </h3>
                    </div>
                    {item.in_stock && (
                      <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-sign-green/10 text-sign-green">
                        Typically In Stock
                      </span>
                    )}
                  </div>

                  <p class="text-stone-500 text-sm mb-3">
                    <span class="font-medium">Look for:</span> {item.visual_cue}
                  </p>

                  <p class="text-stone-600 text-sm">
                    {item.context}
                  </p>
                </div>
              ))}
            </div>
          </div>
        ))}

        <!-- Additional Categories Coming -->
        <div class="bg-stone-100 rounded-lg p-8 text-center mt-12">
          <h3 class="font-display font-bold text-xl text-brand-brown mb-2">
            Plus Much More In-Store
          </h3>
          <p class="text-stone-600 mb-4">
            Hunting apparel, boots, knives, optics, game calls, feed, and seasonal items.
            Stop by or call to ask about specific products.
          </p>
          <a
            href={SITE_CONTACT.phoneHref}
            class="inline-flex items-center gap-2 bg-sign-green text-white font-bold px-6 py-3 rounded hover:bg-green-800 transition-colors"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            Call Us: {SITE_CONTACT.phoneDisplay}
          </a>
        </div>

      </div>
    </section>

    <!-- FFL Notice -->
    <section class="bg-brand-mud text-brand-cream py-8">
      <div class="container mx-auto px-4">
        <div class="max-w-3xl mx-auto text-center">
          <p class="text-sm text-brand-cream/70">
            <strong class="text-white">Firearms Notice:</strong> All firearm sales require federal background check (NICS).
            Must be 18+ for long guns, 21+ for handguns. Valid WV ID required.
            We are a licensed FFL Type 02 dealer.
          </p>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>
