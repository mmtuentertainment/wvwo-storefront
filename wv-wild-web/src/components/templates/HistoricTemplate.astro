---
/**
 * SPEC-19: Historic Site Template
 * Renders historic site content sections.
 * Layout wrapper is provided by parent page ([slug].astro).
 * Heritage styling accents on top of standard WVWO design.
 */

import type { HistoricTemplateProps } from '@/types/templates/historic';

// Import section components
import HistoricHero from '@/components/historic/HistoricHero.astro';
import HistoricalContextSection from '@/components/historic/HistoricalContextSection.astro';
import PreservedStructuresSection from '@/components/historic/PreservedStructuresSection.astro';
import ToursSection from '@/components/historic/ToursSection.astro';
import ExhibitsSection from '@/components/historic/ExhibitsSection.astro';
import EducationalProgramsSection from '@/components/historic/EducationalProgramsSection.astro';
import VisitorInfoSection from '@/components/historic/VisitorInfoSection.astro';
import NearbyHistorySection from '@/components/historic/NearbyHistorySection.astro';

type Props = HistoricTemplateProps;

const props = Astro.props;

const {
  name,
  location,
  era,
  significance,
  nationalRegister,
  quickHighlights,
  heroImage,
  heroImageAlt,
  heroImageCredit,
  historicalContext,
  structures,
  siteMapUrl,
  tours,
  exhibits,
  education,
  visitorInfo,
  nearbyHistory,
} = props;

---

<main>
    <!-- Hero Section -->
    <HistoricHero
      name={name}
      location={location}
      era={era}
      significance={significance}
      nationalRegister={nationalRegister}
      quickHighlights={quickHighlights}
      heroImage={heroImage}
      heroImageAlt={heroImageAlt}
      heroImageCredit={heroImageCredit}
    />

    <!-- Historical Context Section -->
    <HistoricalContextSection historicalContext={historicalContext} />

    <!-- Preserved Structures Section -->
    <PreservedStructuresSection
      structures={structures}
      siteMapUrl={siteMapUrl}
    />

    <!-- Tours Section -->
    <ToursSection tours={tours} />

    <!-- Exhibits Section -->
    {exhibits && exhibits.length > 0 && (
      <ExhibitsSection exhibits={exhibits} />
    )}

    <!-- Educational Programs Section -->
    <EducationalProgramsSection education={education} />

    <!-- Visitor Information Section -->
    <VisitorInfoSection visitorInfo={visitorInfo} />

    <!-- Nearby Historic Sites Section -->
    {nearbyHistory && nearbyHistory.length > 0 && (
      <NearbyHistorySection nearbyHistory={nearbyHistory} />
    )}
  </main>

<style>
  /* Heritage accent styles - subtle additions to standard WVWO design */

  /* Aged photo filter for hero images */
  :global(.hero-aged-photo) {
    filter: sepia(0.15) contrast(1.05) brightness(0.98);
  }

  /* Focus states for accessibility */
  :global(a:focus-visible),
  :global(button:focus-visible) {
    outline: 2px solid #FF6F00;
    outline-offset: 2px;
  }
</style>
